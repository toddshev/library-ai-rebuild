extends ../layout

block content
  h1 New Loan
  form(method='post', action='/loans', novalidate)
    if errors && errors.length
      h2.error Oooops!
      ul.error
        each msg in errors
          li= msg
    p
      label(for='book_id') Book
      select#book_id(name='book_id')
        option(value='') -- Select Book --
        each book in books
          option(value=book.id, selected=(loan.book_id == book.id))= book.title
    p
      label(for='patron_id') Patron
      select#patron_id(name='patron_id')
        option(value='') -- Select Patron --
        each patron in patrons
          option(value=patron.id, selected=(loan.patron_id == patron.id))= patron.library_id + ' - ' + patron.first_name + ' ' + patron.last_name
    p
      label(for='loaned_on') Loaned on
      input#loaned_on(name='loaned_on', type='date', value=loan.loaned_on || '')
    p
      label(for='return_by') Return by
      input#return_by(name='return_by', type='date', value=loan.return_by || '')
    p
      input(type='submit', value='Create New Loan')
